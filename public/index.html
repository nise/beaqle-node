<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
    <title>BeaqleJS</title>
    <link type="text/css" href="css/smoothness/jquery-ui-1.8.18.custom.css" rel="Stylesheet" />
    <link type="text/css" href="css/styles.css" rel="Stylesheet" />
    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/jquery-ui.custom.min.js" type="text/javascript"></script>
    <script src="js/beaqle.js" type="text/javascript"></script>
    <script type="text/javascript">
        /* <![CDATA[ */

        window.onbeforeunload = function () {
            return "Do you want to leave?"
        }

        var testHandle;
        window.onload = function () {
            $.ajax({
                url: '/config/abx-experiment-config.json',// mushra-experiment-config.json
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    console.log(data)
                    var TestConfig = data;
                    // Uncomment one of the following lines to choose the desired test class

                    //testHandle = new MushraTest(TestConfig);    // <-- MUSHRA test class
                    testHandle = new AbxTest(TestConfig);     // <-- ABX test class

                    $('#Footer').prepend(testHandle.browserFeatureString() + '<br/>');
                },
                error: function (err) {
                    console.error(err); //or whatever
                }
            });
        };
    /* ]]> */
    </script>
</head>

<body>
    <div id="Wrapper">
        <div id="TestTitle" class="commonBox">
            <!-- overall title at the top 
             DO NOT EDIT! This box is automatically filled with content!
        -->
            Loading...
        </div>

        <!-- is displayed during load -->
        <div id="LoadOverlay" class="commonBox">
            <img src="img/ajax-loader.gif" /> &nbsp;&nbsp;&nbsp; Loading...
        </div>

        <!-- introduction before the test starts -->
        <div id="TestIntroduction" class="commonBox">

            <!-- edit here if you want to change the welcome message  and instructions -->

            <div style="text-align:left">
                Thanks for your interest in participating in the listening test. The overall test will roughly take 15 minutes. Please take
                the time and carefully rate every item.
                <br />
                <br />
                Instructions:
                <ul>
                    <li>Most important: use high quality studio headphones and a good soundcard!</li>
                    <li>Listen through all test files and test sets before you do any ratings to get used to the material.</li>
                    <li>Rate the quality of the test items only compared to the reference on top.</li>
                    <li>Try to rate the overall impression of a test item and don't concentrate on single aspects. </li>
                </ul>
            </div>
            <br />
            <br />

            <!-- this button starts the first test -->
            <button id="BtnStartTest" onclick="testHandle.startTests();">Start!</button>
        </div>

        <!-- final text after all tests have passed -->
        <div id="TestEnd" class="commonBox">

            <!-- edit here if you want to change the thank you message -->
            Vielen Dank!
            <br />
            <br />

            <!-- show some informations before submitting the results -->
            <div id="SubmitBox">
                <div id="SubmitError" class="error">
                    We are sorry, but the following error occured during your submission:
                    <p id="ErrorCode"></p>
                </div>
                <p class="submitOnline">
                    <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                    Please submit the results to our server. Entering a name or email address is not mandatory
                    but it would help us to contact you if we have further questions. You can also leave a comment.
                </p>
                <button id="BtnSubmitData" class="submitOnline___" onclick="testHandle.SubmitTestResults();">Absenden</button>
            </div>

            <!-- the test results are displayed in this box -->
            <div id="ResultsBox">
            </div>
        </div>

        <div id="TableContainer" class="commonBox">
            <!-- container for the test items and sliders 
             DO NOT EDIT! This box is automatically filled with content!
        -->

            <!-- heading for the single test -->
            <div id="TestHeading">
            </div>

        </div>

        <!-- controls to go to next/previous test -->
        <div id="TestControls" class="commonBox">
            <button id="BtnNextTest">Next Test</>
                <button id="BtnPrevTest">Previous Test</>
        </div>

        <!-- playback control -->
        <div id="PlayerControls" class="commonBox">

            <div id="duration">
                <span>00:00</span>
            </div>

            <div id="TimeLine">
                <div id="ProgressBar"></div>
                <div id="ABRange"></div>
            </div>

            <div>
                <input id="ChkLoopAudio" type="checkbox" value="Loop" /><label for="ChkLoopAudio">Loop</label>
                <input id="ChkAutoReturn" type="checkbox" value="Auto Return" /><label for="ChkAutoReturn">Auto Return</label>
            </div>

            <div id="Volume">
                Lautst√§rke
                <div id="VolumeSlider"></div>
            </div>

            <br style="clear:both" />

        </div>

        <!-- Footer -->
        <div id="Footer">
            This listening test has been created with <a href="https://github.com/HSU-ANT/beaqlejs" target="_blank">BeaqleJS</a> <a href="https://github.com/HSU-ANT/beaqlejs/tree/v0.3"
                target="_blank">v0.3</a>.
        </div>
    </div>

</body>

</html>